{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { Platform } from 'expo-modules-core';\nimport CameraManager from \"../ExpoCameraManager\";\nexport var ConversionTables = {\n  type: CameraManager.Type,\n  flash: CameraManager.FlashMode\n};\nexport function convertNativeProps(props) {\n  if (!props || typeof props !== 'object') {\n    return {};\n  }\n  var nativeProps = {};\n  for (var _ref of Object.entries(props)) {\n    var _ref2 = _slicedToArray(_ref, 2);\n    var key = _ref2[0];\n    var value = _ref2[1];\n    if (typeof value === 'string' && ConversionTables[key]) {\n      nativeProps[key] = ConversionTables[key][value];\n    } else {\n      nativeProps[key] = value;\n    }\n  }\n  return nativeProps;\n}\nexport function ensureNativeProps(props) {\n  var _props$flash, _props$mute, _props$autofocus;\n  var newProps = convertNativeProps(props);\n  newProps.barcodeScannerEnabled = !!(props != null && props.onBarcodeScanned);\n  newProps.flashMode = (_props$flash = props == null ? void 0 : props.flash) != null ? _props$flash : 'off';\n  newProps.mute = (_props$mute = props == null ? void 0 : props.mute) != null ? _props$mute : false;\n  newProps.autoFocus = (_props$autofocus = props == null ? void 0 : props.autofocus) != null ? _props$autofocus : 'off';\n  if (Platform.OS !== 'web') {\n    delete newProps.poster;\n  }\n  return newProps;\n}","map":{"version":3,"names":["Platform","CameraManager","ConversionTables","type","Type","flash","FlashMode","convertNativeProps","props","nativeProps","_ref","Object","entries","_ref2","_slicedToArray","key","value","ensureNativeProps","_props$flash","_props$mute","_props$autofocus","newProps","barcodeScannerEnabled","onBarcodeScanned","flashMode","mute","autoFocus","autofocus","OS","poster"],"sources":["/home/runner/workspace/node_modules/expo-camera/src/utils/props.ts"],"sourcesContent":["import { Platform } from 'expo-modules-core';\n\nimport { CameraNativeProps, CameraType, FlashMode, CameraViewProps } from '../Camera.types';\nimport CameraManager from '../ExpoCameraManager';\n\n// Values under keys from this object will be transformed to native options\nexport const ConversionTables: {\n  type: Record<keyof CameraType, CameraNativeProps['facing']>;\n  flash: Record<keyof FlashMode, CameraNativeProps['flashMode']>;\n} = {\n  type: CameraManager.Type,\n  flash: CameraManager.FlashMode,\n};\n\nexport function convertNativeProps(props?: CameraViewProps): CameraNativeProps {\n  if (!props || typeof props !== 'object') {\n    return {};\n  }\n\n  const nativeProps: CameraNativeProps = {};\n\n  for (const [key, value] of Object.entries(props)) {\n    if (typeof value === 'string' && ConversionTables[key]) {\n      nativeProps[key] = ConversionTables[key][value];\n    } else {\n      nativeProps[key] = value;\n    }\n  }\n\n  return nativeProps;\n}\n\nexport function ensureNativeProps(props?: CameraViewProps): CameraNativeProps {\n  const newProps = convertNativeProps(props);\n\n  newProps.barcodeScannerEnabled = !!props?.onBarcodeScanned;\n  newProps.flashMode = props?.flash ?? 'off';\n  newProps.mute = props?.mute ?? false;\n  newProps.autoFocus = props?.autofocus ?? 'off';\n\n  if (Platform.OS !== 'web') {\n    delete newProps.poster;\n  }\n\n  return newProps;\n}\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,mBAAmB;AAG5C,OAAOC,aAAa;AAGpB,OAAO,IAAMC,gBAAgB,GAGzB;EACFC,IAAI,EAAEF,aAAa,CAACG,IAAI;EACxBC,KAAK,EAAEJ,aAAa,CAACK;CACtB;AAED,OAAM,SAAUC,kBAAkBA,CAACC,KAAuB;EACxD,IAAI,CAACA,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IACvC,OAAO,EAAE;;EAGX,IAAMC,WAAW,GAAsB,EAAE;EAEzC,SAAAC,IAAA,IAA2BC,MAAM,CAACC,OAAO,CAACJ,KAAK,CAAC,EAAE;IAAA,IAAAK,KAAA,GAAAC,cAAA,CAAAJ,IAAA;IAAA,IAAtCK,GAAG,GAAAF,KAAA;IAAA,IAAEG,KAAK,GAAAH,KAAA;IACpB,IAAI,OAAOG,KAAK,KAAK,QAAQ,IAAId,gBAAgB,CAACa,GAAG,CAAC,EAAE;MACtDN,WAAW,CAACM,GAAG,CAAC,GAAGb,gBAAgB,CAACa,GAAG,CAAC,CAACC,KAAK,CAAC;KAChD,MAAM;MACLP,WAAW,CAACM,GAAG,CAAC,GAAGC,KAAK;;;EAI5B,OAAOP,WAAW;AACpB;AAEA,OAAM,SAAUQ,iBAAiBA,CAACT,KAAuB;EAAA,IAAAU,YAAA,EAAAC,WAAA,EAAAC,gBAAA;EACvD,IAAMC,QAAQ,GAAGd,kBAAkB,CAACC,KAAK,CAAC;EAE1Ca,QAAQ,CAACC,qBAAqB,GAAG,CAAC,EAACd,KAAK,YAALA,KAAK,CAAEe,gBAAgB;EAC1DF,QAAQ,CAACG,SAAS,IAAAN,YAAA,GAAGV,KAAK,oBAALA,KAAK,CAAEH,KAAK,YAAAa,YAAA,GAAI,KAAK;EAC1CG,QAAQ,CAACI,IAAI,IAAAN,WAAA,GAAGX,KAAK,oBAALA,KAAK,CAAEiB,IAAI,YAAAN,WAAA,GAAI,KAAK;EACpCE,QAAQ,CAACK,SAAS,IAAAN,gBAAA,GAAGZ,KAAK,oBAALA,KAAK,CAAEmB,SAAS,YAAAP,gBAAA,GAAI,KAAK;EAE9C,IAAIpB,QAAQ,CAAC4B,EAAE,KAAK,KAAK,EAAE;IACzB,OAAOP,QAAQ,CAACQ,MAAM;;EAGxB,OAAOR,QAAQ;AACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}