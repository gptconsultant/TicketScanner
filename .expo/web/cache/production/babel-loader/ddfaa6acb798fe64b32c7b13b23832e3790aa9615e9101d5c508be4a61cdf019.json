{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from'react';import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Image from\"react-native-web/dist/exports/Image\";import Platform from\"react-native-web/dist/exports/Platform\";import{TextInput,Button}from'react-native-paper';import{useAuth}from\"../../hooks/useAuth\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var LoginScreen=function LoginScreen(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useAuth=useAuth(),login=_useAuth.login;var handleLogin=function(){var _ref=_asyncToGenerator(function*(){if(!username.trim()||!password.trim()){setError('Username and password are required');return;}setError('');setIsLoading(true);try{if(username==='admin'&&password==='password'||username==='staff'&&password==='password'||username==='volunteer'&&password==='password'){var role=username.toLowerCase();yield login({username:username,role:role});}else{setError('Invalid credentials. Try admin/password, staff/password, or volunteer/password');}}catch(err){setError(err.message||'Login failed. Please try again.');}finally{setIsLoading(false);}});return function handleLogin(){return _ref.apply(this,arguments);};}();return _jsxs(View,{style:styles.container,children:[_jsxs(View,{style:styles.logoContainer,children:[_jsx(Image,{source:{uri:'https://reactnative.dev/img/tiny_logo.png'},style:styles.logo}),_jsx(Text,{style:styles.title,children:\"Event Ticket Scanner\"}),_jsx(Text,{style:styles.subtitle,children:\"Login to your account\"})]}),_jsxs(View,{style:styles.formContainer,children:[_jsx(TextInput,{label:\"Username\",value:username,onChangeText:setUsername,style:styles.input,autoCapitalize:\"none\",disabled:isLoading,mode:\"outlined\"}),_jsx(TextInput,{label:\"Password\",value:password,onChangeText:setPassword,secureTextEntry:true,style:styles.input,disabled:isLoading,mode:\"outlined\"}),error?_jsx(Text,{style:styles.errorText,children:error}):null,_jsx(Button,{mode:\"contained\",onPress:handleLogin,loading:isLoading,disabled:isLoading,style:styles.button,children:\"Login\"}),_jsxs(View,{style:styles.demoAccountsContainer,children:[_jsx(Text,{style:styles.demoTitle,children:\"Demo Accounts:\"}),_jsx(TouchableOpacity,{onPress:function onPress(){setUsername('admin');setPassword('password');},children:_jsx(Text,{style:styles.demoAccount,children:\"Admin: admin / password\"})}),_jsx(TouchableOpacity,{onPress:function onPress(){setUsername('staff');setPassword('password');},children:_jsx(Text,{style:styles.demoAccount,children:\"Staff: staff / password\"})}),_jsx(TouchableOpacity,{onPress:function onPress(){setUsername('volunteer');setPassword('password');},children:_jsx(Text,{style:styles.demoAccount,children:\"Volunteer: volunteer / password\"})})]})]})]});};var styles=StyleSheet.create({container:{flex:1,padding:20,backgroundColor:'#fff'},logoContainer:{alignItems:'center',marginTop:60,marginBottom:40},logo:{width:80,height:80,resizeMode:'contain'},title:{fontSize:24,fontWeight:'bold',marginTop:16,color:'#333'},subtitle:{fontSize:16,color:'#666',marginTop:8},formContainer:{width:'100%',maxWidth:400,alignSelf:'center'},input:{marginBottom:16,backgroundColor:'#f9f9f9'},button:{marginTop:16,paddingVertical:8},errorText:{color:'red',marginBottom:16},demoAccountsContainer:{marginTop:40,padding:16,backgroundColor:'#f5f5f5',borderRadius:8},demoTitle:{fontWeight:'bold',marginBottom:8},demoAccount:{color:'#0066cc',marginBottom:8,textDecorationLine:'underline'}});export default LoginScreen;","map":{"version":3,"names":["React","useState","View","StyleSheet","Text","TouchableOpacity","Image","Platform","TextInput","Button","useAuth","jsx","_jsx","jsxs","_jsxs","LoginScreen","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","error","setError","_useAuth","login","handleLogin","_ref","_asyncToGenerator","trim","role","toLowerCase","err","message","apply","arguments","style","styles","container","children","logoContainer","source","uri","logo","title","subtitle","formContainer","label","value","onChangeText","input","autoCapitalize","disabled","mode","secureTextEntry","errorText","onPress","loading","button","demoAccountsContainer","demoTitle","demoAccount","create","flex","padding","backgroundColor","alignItems","marginTop","marginBottom","width","height","resizeMode","fontSize","fontWeight","color","maxWidth","alignSelf","paddingVertical","borderRadius","textDecorationLine"],"sources":["/home/runner/workspace/src/screens/auth/LoginScreen.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, StyleSheet, Text, TouchableOpacity, Image, Platform } from 'react-native';\nimport { TextInput, Button } from 'react-native-paper';\nimport { useAuth } from '../../hooks/useAuth';\n\nconst LoginScreen = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const { login } = useAuth();\n\n  const handleLogin = async () => {\n    // Basic validation\n    if (!username.trim() || !password.trim()) {\n      setError('Username and password are required');\n      return;\n    }\n\n    setError('');\n    setIsLoading(true);\n\n    try {\n      // Use demo accounts for testing\n      if (\n        (username === 'admin' && password === 'password') ||\n        (username === 'staff' && password === 'password') ||\n        (username === 'volunteer' && password === 'password')\n      ) {\n        // Determine role based on username\n        const role = username.toLowerCase();\n        await login({ username, role });\n      } else {\n        setError('Invalid credentials. Try admin/password, staff/password, or volunteer/password');\n      }\n    } catch (err) {\n      setError(err.message || 'Login failed. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.logoContainer}>\n        <Image \n          source={{ uri: 'https://reactnative.dev/img/tiny_logo.png' }} \n          style={styles.logo} \n        />\n        <Text style={styles.title}>Event Ticket Scanner</Text>\n        <Text style={styles.subtitle}>Login to your account</Text>\n      </View>\n\n      <View style={styles.formContainer}>\n        <TextInput\n          label=\"Username\"\n          value={username}\n          onChangeText={setUsername}\n          style={styles.input}\n          autoCapitalize=\"none\"\n          disabled={isLoading}\n          mode=\"outlined\"\n        />\n\n        <TextInput\n          label=\"Password\"\n          value={password}\n          onChangeText={setPassword}\n          secureTextEntry\n          style={styles.input}\n          disabled={isLoading}\n          mode=\"outlined\"\n        />\n\n        {error ? <Text style={styles.errorText}>{error}</Text> : null}\n\n        <Button\n          mode=\"contained\"\n          onPress={handleLogin}\n          loading={isLoading}\n          disabled={isLoading}\n          style={styles.button}\n        >\n          Login\n        </Button>\n\n        <View style={styles.demoAccountsContainer}>\n          <Text style={styles.demoTitle}>Demo Accounts:</Text>\n          <TouchableOpacity onPress={() => {\n            setUsername('admin');\n            setPassword('password');\n          }}>\n            <Text style={styles.demoAccount}>Admin: admin / password</Text>\n          </TouchableOpacity>\n          <TouchableOpacity onPress={() => {\n            setUsername('staff');\n            setPassword('password');\n          }}>\n            <Text style={styles.demoAccount}>Staff: staff / password</Text>\n          </TouchableOpacity>\n          <TouchableOpacity onPress={() => {\n            setUsername('volunteer');\n            setPassword('password');\n          }}>\n            <Text style={styles.demoAccount}>Volunteer: volunteer / password</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 20,\n    backgroundColor: '#fff',\n  },\n  logoContainer: {\n    alignItems: 'center',\n    marginTop: 60,\n    marginBottom: 40,\n  },\n  logo: {\n    width: 80,\n    height: 80,\n    resizeMode: 'contain',\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginTop: 16,\n    color: '#333',\n  },\n  subtitle: {\n    fontSize: 16,\n    color: '#666',\n    marginTop: 8,\n  },\n  formContainer: {\n    width: '100%',\n    maxWidth: 400,\n    alignSelf: 'center',\n  },\n  input: {\n    marginBottom: 16,\n    backgroundColor: '#f9f9f9',\n  },\n  button: {\n    marginTop: 16,\n    paddingVertical: 8,\n  },\n  errorText: {\n    color: 'red',\n    marginBottom: 16,\n  },\n  demoAccountsContainer: {\n    marginTop: 40,\n    padding: 16,\n    backgroundColor: '#f5f5f5',\n    borderRadius: 8,\n  },\n  demoTitle: {\n    fontWeight: 'bold',\n    marginBottom: 8,\n  },\n  demoAccount: {\n    color: '#0066cc',\n    marginBottom: 8,\n    textDecorationLine: 'underline',\n  },\n});\n\nexport default LoginScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}