{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{Platform}from'expo-modules-core';import CameraManager from\"../ExpoCameraManager\";export var ConversionTables={type:CameraManager.Type,flash:CameraManager.FlashMode};export function convertNativeProps(props){if(!props||typeof props!=='object'){return{};}var nativeProps={};for(var _ref of Object.entries(props)){var _ref2=_slicedToArray(_ref,2);var key=_ref2[0];var value=_ref2[1];if(typeof value==='string'&&ConversionTables[key]){nativeProps[key]=ConversionTables[key][value];}else{nativeProps[key]=value;}}return nativeProps;}export function ensureNativeProps(props){var _props$flash,_props$mute,_props$autofocus;var newProps=convertNativeProps(props);newProps.barcodeScannerEnabled=!!(props!=null&&props.onBarcodeScanned);newProps.flashMode=(_props$flash=props==null?void 0:props.flash)!=null?_props$flash:'off';newProps.mute=(_props$mute=props==null?void 0:props.mute)!=null?_props$mute:false;newProps.autoFocus=(_props$autofocus=props==null?void 0:props.autofocus)!=null?_props$autofocus:'off';if(Platform.OS!=='web'){delete newProps.poster;}return newProps;}","map":{"version":3,"names":["Platform","CameraManager","ConversionTables","type","Type","flash","FlashMode","convertNativeProps","props","nativeProps","_ref","Object","entries","_ref2","_slicedToArray","key","value","ensureNativeProps","_props$flash","_props$mute","_props$autofocus","newProps","barcodeScannerEnabled","onBarcodeScanned","flashMode","mute","autoFocus","autofocus","OS","poster"],"sources":["/home/runner/workspace/node_modules/expo-camera/src/utils/props.ts"],"sourcesContent":["import { Platform } from 'expo-modules-core';\n\nimport { CameraNativeProps, CameraType, FlashMode, CameraViewProps } from '../Camera.types';\nimport CameraManager from '../ExpoCameraManager';\n\n// Values under keys from this object will be transformed to native options\nexport const ConversionTables: {\n  type: Record<keyof CameraType, CameraNativeProps['facing']>;\n  flash: Record<keyof FlashMode, CameraNativeProps['flashMode']>;\n} = {\n  type: CameraManager.Type,\n  flash: CameraManager.FlashMode,\n};\n\nexport function convertNativeProps(props?: CameraViewProps): CameraNativeProps {\n  if (!props || typeof props !== 'object') {\n    return {};\n  }\n\n  const nativeProps: CameraNativeProps = {};\n\n  for (const [key, value] of Object.entries(props)) {\n    if (typeof value === 'string' && ConversionTables[key]) {\n      nativeProps[key] = ConversionTables[key][value];\n    } else {\n      nativeProps[key] = value;\n    }\n  }\n\n  return nativeProps;\n}\n\nexport function ensureNativeProps(props?: CameraViewProps): CameraNativeProps {\n  const newProps = convertNativeProps(props);\n\n  newProps.barcodeScannerEnabled = !!props?.onBarcodeScanned;\n  newProps.flashMode = props?.flash ?? 'off';\n  newProps.mute = props?.mute ?? false;\n  newProps.autoFocus = props?.autofocus ?? 'off';\n\n  if (Platform.OS !== 'web') {\n    delete newProps.poster;\n  }\n\n  return newProps;\n}\n"],"mappings":"iEAAA,OAASA,QAAQ,KAAQ,mBAAmB,CAG5C,MAAO,CAAAC,aAAa,4BAGpB,MAAO,IAAM,CAAAC,gBAAgB,CAGzB,CACFC,IAAI,CAAEF,aAAa,CAACG,IAAI,CACxBC,KAAK,CAAEJ,aAAa,CAACK,S,CACtB,CAED,MAAM,SAAU,CAAAC,kBAAkBA,CAACC,KAAuB,EACxD,GAAI,CAACA,KAAK,EAAI,MAAO,CAAAA,KAAK,GAAK,QAAQ,CAAE,CACvC,MAAO,EAAE,C,CAGX,GAAM,CAAAC,WAAW,CAAsB,EAAE,CAEzC,QAAAC,IAAA,GAA2B,CAAAC,MAAM,CAACC,OAAO,CAACJ,KAAK,CAAC,CAAE,KAAAK,KAAA,CAAAC,cAAA,CAAAJ,IAAA,OAAtC,CAAAK,GAAG,CAAAF,KAAA,OAAE,CAAAG,KAAK,CAAAH,KAAA,IACpB,GAAI,MAAO,CAAAG,KAAK,GAAK,QAAQ,EAAId,gBAAgB,CAACa,GAAG,CAAC,CAAE,CACtDN,WAAW,CAACM,GAAG,CAAC,CAAGb,gBAAgB,CAACa,GAAG,CAAC,CAACC,KAAK,CAAC,C,CAChD,IAAM,CACLP,WAAW,CAACM,GAAG,CAAC,CAAGC,KAAK,C,EAI5B,MAAO,CAAAP,WAAW,CACpB,CAEA,MAAM,SAAU,CAAAQ,iBAAiBA,CAACT,KAAuB,MAAAU,YAAA,CAAAC,WAAA,CAAAC,gBAAA,CACvD,GAAM,CAAAC,QAAQ,CAAGd,kBAAkB,CAACC,KAAK,CAAC,CAE1Ca,QAAQ,CAACC,qBAAqB,CAAG,CAAC,EAACd,KAAK,QAALA,KAAK,CAAEe,gBAAgB,EAC1DF,QAAQ,CAACG,SAAS,EAAAN,YAAA,CAAGV,KAAK,cAALA,KAAK,CAAEH,KAAK,QAAAa,YAAA,CAAI,KAAK,CAC1CG,QAAQ,CAACI,IAAI,EAAAN,WAAA,CAAGX,KAAK,cAALA,KAAK,CAAEiB,IAAI,QAAAN,WAAA,CAAI,KAAK,CACpCE,QAAQ,CAACK,SAAS,EAAAN,gBAAA,CAAGZ,KAAK,cAALA,KAAK,CAAEmB,SAAS,QAAAP,gBAAA,CAAI,KAAK,CAE9C,GAAIpB,QAAQ,CAAC4B,EAAE,GAAK,KAAK,CAAE,CACzB,MAAO,CAAAP,QAAQ,CAACQ,MAAM,C,CAGxB,MAAO,CAAAR,QAAQ,CACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}