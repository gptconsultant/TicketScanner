{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e));}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t;})();}import{Platform,UnavailabilityError}from'expo-modules-core';import{Component,createRef}from'react';import ExpoCamera from\"./ExpoCamera\";import CameraManager from\"./ExpoCameraManager\";import{ConversionTables,ensureNativeProps}from\"./utils/props\";import{jsx as _jsx}from\"react/jsx-runtime\";var EventThrottleMs=500;var _PICTURE_SAVED_CALLBACKS={};var _GLOBAL_PICTURE_ID=1;function ensurePictureOptions(options){if(!options||typeof options!=='object'){return{};}if(options.quality===undefined){options.quality=1;}if(options.mirror){console.warn('The `mirror` option is deprecated. Please use the `mirror` prop on the `CameraView` instead.');}if(options.onPictureSaved){var id=_GLOBAL_PICTURE_ID++;_PICTURE_SAVED_CALLBACKS[id]=options.onPictureSaved;options.id=id;options.fastMode=true;}return options;}function ensureRecordingOptions(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!options||typeof options!=='object'){return{};}if(options.mirror){console.warn('The `mirror` option is deprecated. Please use the `mirror` prop on the `CameraView` instead.');}return options;}function _onPictureSaved(_ref){var nativeEvent=_ref.nativeEvent;var id=nativeEvent.id,data=nativeEvent.data;var callback=_PICTURE_SAVED_CALLBACKS[id];if(callback){callback(data);delete _PICTURE_SAVED_CALLBACKS[id];}}var CameraView=function(_Component){function CameraView(){var _this;_classCallCheck(this,CameraView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_callSuper(this,CameraView,[].concat(args));_this._cameraRef=createRef();_this._lastEvents={};_this._lastEventsTimes={};_this._onCameraReady=function(){if(_this.props.onCameraReady){_this.props.onCameraReady();}};_this._onMountError=function(_ref2){var nativeEvent=_ref2.nativeEvent;if(_this.props.onMountError){_this.props.onMountError(nativeEvent);}};_this._onResponsiveOrientationChanged=function(_ref3){var nativeEvent=_ref3.nativeEvent;if(_this.props.onResponsiveOrientationChanged){_this.props.onResponsiveOrientationChanged(nativeEvent);}};_this._onObjectDetected=function(callback){return function(_ref4){var nativeEvent=_ref4.nativeEvent;var type=nativeEvent.type;if(_this._lastEvents[type]&&_this._lastEventsTimes[type]&&JSON.stringify(nativeEvent)===_this._lastEvents[type]&&new Date().getTime()-_this._lastEventsTimes[type].getTime()<EventThrottleMs){return;}if(callback){callback(nativeEvent);_this._lastEventsTimes[type]=new Date();_this._lastEvents[type]=JSON.stringify(nativeEvent);}};};_this._setReference=function(ref){if(ref){if(Platform.OS==='web'){_this._cameraHandle=ref;}}};return _this;}_inherits(CameraView,_Component);return _createClass(CameraView,[{key:\"getAvailablePictureSizesAsync\",value:(function(){var _getAvailablePictureSizesAsync=_asyncToGenerator(function*(){var _yield$this$_cameraRe,_this$_cameraRef$curr;return(_yield$this$_cameraRe=yield(_this$_cameraRef$curr=this._cameraRef.current)==null?void 0:_this$_cameraRef$curr.getAvailablePictureSizes())!=null?_yield$this$_cameraRe:[];});function getAvailablePictureSizesAsync(){return _getAvailablePictureSizesAsync.apply(this,arguments);}return getAvailablePictureSizesAsync;}())},{key:\"resumePreview\",value:(function(){var _resumePreview=_asyncToGenerator(function*(){var _this$_cameraRef$curr2;return(_this$_cameraRef$curr2=this._cameraRef.current)==null?void 0:_this$_cameraRef$curr2.resumePreview();});function resumePreview(){return _resumePreview.apply(this,arguments);}return resumePreview;}())},{key:\"pausePreview\",value:(function(){var _pausePreview=_asyncToGenerator(function*(){var _this$_cameraRef$curr3;return(_this$_cameraRef$curr3=this._cameraRef.current)==null?void 0:_this$_cameraRef$curr3.pausePreview();});function pausePreview(){return _pausePreview.apply(this,arguments);}return pausePreview;}())},{key:\"takePictureAsync\",value:function(){var _takePictureAsync=_asyncToGenerator(function*(options){var _this$_cameraRef$curr4;var pictureOptions=ensurePictureOptions(options);return(_this$_cameraRef$curr4=this._cameraRef.current)==null?void 0:_this$_cameraRef$curr4.takePicture(pictureOptions);});function takePictureAsync(_x){return _takePictureAsync.apply(this,arguments);}return takePictureAsync;}()},{key:\"recordAsync\",value:(function(){var _recordAsync=_asyncToGenerator(function*(options){var _this$_cameraRef$curr5;var recordingOptions=ensureRecordingOptions(options);return(_this$_cameraRef$curr5=this._cameraRef.current)==null?void 0:_this$_cameraRef$curr5.record(recordingOptions);});function recordAsync(_x2){return _recordAsync.apply(this,arguments);}return recordAsync;}())},{key:\"stopRecording\",value:function stopRecording(){var _this$_cameraRef$curr6;(_this$_cameraRef$curr6=this._cameraRef.current)==null?void 0:_this$_cameraRef$curr6.stopRecording();}},{key:\"render\",value:function render(){var nativeProps=ensureNativeProps(this.props);var onBarcodeScanned=this.props.onBarcodeScanned?this._onObjectDetected(this.props.onBarcodeScanned):undefined;return _jsx(ExpoCamera,_objectSpread(_objectSpread({},nativeProps),{},{ref:this._cameraRef,onCameraReady:this._onCameraReady,onMountError:this._onMountError,onBarcodeScanned:onBarcodeScanned,onPictureSaved:_onPictureSaved,onResponsiveOrientationChanged:this._onResponsiveOrientationChanged}));}}],[{key:\"isAvailableAsync\",value:(function(){var _isAvailableAsync=_asyncToGenerator(function*(){if(!CameraManager.isAvailableAsync){throw new UnavailabilityError('expo-camera','isAvailableAsync');}return yield CameraManager.isAvailableAsync();});function isAvailableAsync(){return _isAvailableAsync.apply(this,arguments);}return isAvailableAsync;}())},{key:\"getAvailableVideoCodecsAsync\",value:function(){var _getAvailableVideoCodecsAsync=_asyncToGenerator(function*(){if(!CameraManager.getAvailableVideoCodecsAsync){throw new UnavailabilityError('Camera','getAvailableVideoCodecsAsync');}return yield CameraManager.getAvailableVideoCodecsAsync();});function getAvailableVideoCodecsAsync(){return _getAvailableVideoCodecsAsync.apply(this,arguments);}return getAvailableVideoCodecsAsync;}()},{key:\"launchScanner\",value:(function(){var _launchScanner=_asyncToGenerator(function*(options){if(!options){options={barcodeTypes:[]};}if(Platform.OS==='ios'&&CameraView.isModernBarcodeScannerAvailable){yield CameraManager.launchScanner(options);}});function launchScanner(_x3){return _launchScanner.apply(this,arguments);}return launchScanner;}())},{key:\"dismissScanner\",value:(function(){var _dismissScanner=_asyncToGenerator(function*(){if(Platform.OS==='ios'&&CameraView.isModernBarcodeScannerAvailable){yield CameraManager.dismissScanner();}});function dismissScanner(){return _dismissScanner.apply(this,arguments);}return dismissScanner;}())},{key:\"onModernBarcodeScanned\",value:function onModernBarcodeScanned(listener){return CameraManager.addListener('onModernBarcodeScanned',listener);}}]);}(Component);CameraView.isModernBarcodeScannerAvailable=CameraManager.isModernBarcodeScannerAvailable;CameraView.ConversionTables=ConversionTables;CameraView.defaultProps={zoom:0,facing:'back',enableTorch:false,mode:'picture',flash:'off'};export{CameraView as default};","map":{"version":3,"names":["Platform","UnavailabilityError","Component","createRef","ExpoCamera","CameraManager","ConversionTables","ensureNativeProps","jsx","_jsx","EventThrottleMs","_PICTURE_SAVED_CALLBACKS","_GLOBAL_PICTURE_ID","ensurePictureOptions","options","quality","undefined","mirror","console","warn","onPictureSaved","id","fastMode","ensureRecordingOptions","arguments","length","_onPictureSaved","_ref","nativeEvent","data","callback","CameraView","_Component","_this","_classCallCheck","_len","args","Array","_key","_callSuper","concat","_cameraRef","_lastEvents","_lastEventsTimes","_onCameraReady","props","onCameraReady","_onMountError","_ref2","onMountError","_onResponsiveOrientationChanged","_ref3","onResponsiveOrientationChanged","_onObjectDetected","_ref4","type","JSON","stringify","Date","getTime","_setReference","ref","OS","_cameraHandle","_inherits","_createClass","key","value","_getAvailablePictureSizesAsync","_asyncToGenerator","_yield$this$_cameraRe","_this$_cameraRef$curr","current","getAvailablePictureSizes","getAvailablePictureSizesAsync","apply","_resumePreview","_this$_cameraRef$curr2","resumePreview","_pausePreview","_this$_cameraRef$curr3","pausePreview","_takePictureAsync","_this$_cameraRef$curr4","pictureOptions","takePicture","takePictureAsync","_x","_recordAsync","_this$_cameraRef$curr5","recordingOptions","record","recordAsync","_x2","stopRecording","_this$_cameraRef$curr6","render","nativeProps","onBarcodeScanned","_objectSpread","_isAvailableAsync","isAvailableAsync","_getAvailableVideoCodecsAsync","getAvailableVideoCodecsAsync","_launchScanner","barcodeTypes","isModernBarcodeScannerAvailable","launchScanner","_x3","_dismissScanner","dismissScanner","onModernBarcodeScanned","listener","addListener","defaultProps","zoom","facing","enableTorch","mode","flash","default"],"sources":["/home/runner/workspace/node_modules/expo-camera/src/CameraView.tsx"],"sourcesContent":["import { Platform, UnavailabilityError, type EventSubscription } from 'expo-modules-core';\nimport { type Ref, Component, createRef } from 'react';\n\nimport {\n  CameraCapturedPicture,\n  CameraOrientation,\n  CameraPictureOptions,\n  CameraViewProps,\n  CameraRecordingOptions,\n  CameraViewRef,\n  ScanningOptions,\n  ScanningResult,\n  VideoCodec,\n} from './Camera.types';\nimport ExpoCamera from './ExpoCamera';\nimport CameraManager from './ExpoCameraManager';\nimport { ConversionTables, ensureNativeProps } from './utils/props';\n\nconst EventThrottleMs = 500;\n\nconst _PICTURE_SAVED_CALLBACKS = {};\n\nlet _GLOBAL_PICTURE_ID = 1;\n\nfunction ensurePictureOptions(options?: CameraPictureOptions): CameraPictureOptions {\n  if (!options || typeof options !== 'object') {\n    return {};\n  }\n\n  if (options.quality === undefined) {\n    options.quality = 1;\n  }\n\n  if (options.mirror) {\n    console.warn(\n      'The `mirror` option is deprecated. Please use the `mirror` prop on the `CameraView` instead.'\n    );\n  }\n\n  if (options.onPictureSaved) {\n    const id = _GLOBAL_PICTURE_ID++;\n    _PICTURE_SAVED_CALLBACKS[id] = options.onPictureSaved;\n    options.id = id;\n    options.fastMode = true;\n  }\n\n  return options;\n}\n\nfunction ensureRecordingOptions(options: CameraRecordingOptions = {}): CameraRecordingOptions {\n  if (!options || typeof options !== 'object') {\n    return {};\n  }\n\n  if (options.mirror) {\n    console.warn(\n      'The `mirror` option is deprecated. Please use the `mirror` prop on the `CameraView` instead.'\n    );\n  }\n\n  return options;\n}\n\nfunction _onPictureSaved({\n  nativeEvent,\n}: {\n  nativeEvent: { data: CameraCapturedPicture; id: number };\n}) {\n  const { id, data } = nativeEvent;\n  const callback = _PICTURE_SAVED_CALLBACKS[id];\n  if (callback) {\n    callback(data);\n    delete _PICTURE_SAVED_CALLBACKS[id];\n  }\n}\n\nexport default class CameraView extends Component<CameraViewProps> {\n  /**\n   * Property that determines if the current device has the ability to use `DataScannerViewController` (iOS 16+).\n   */\n  static isModernBarcodeScannerAvailable: boolean = CameraManager.isModernBarcodeScannerAvailable;\n  /**\n   * Check whether the current device has a camera. This is useful for web and simulators cases.\n   * This isn't influenced by the Permissions API (all platforms), or HTTP usage (in the browser).\n   * You will still need to check if the native permission has been accepted.\n   * @platform web\n   */\n  static async isAvailableAsync(): Promise<boolean> {\n    if (!CameraManager.isAvailableAsync) {\n      throw new UnavailabilityError('expo-camera', 'isAvailableAsync');\n    }\n\n    return await CameraManager.isAvailableAsync();\n  }\n\n  // @needsAudit\n  /**\n   * Queries the device for the available video codecs that can be used in video recording.\n   * @return A promise that resolves to a list of strings that represents available codecs.\n   * @platform ios\n   */\n  static async getAvailableVideoCodecsAsync(): Promise<VideoCodec[]> {\n    if (!CameraManager.getAvailableVideoCodecsAsync) {\n      throw new UnavailabilityError('Camera', 'getAvailableVideoCodecsAsync');\n    }\n\n    return await CameraManager.getAvailableVideoCodecsAsync();\n  }\n\n  /**\n   * Get picture sizes that are supported by the device.\n   * @return Returns a Promise that resolves to an array of strings representing picture sizes that can be passed to `pictureSize` prop.\n   * The list varies across Android devices but is the same for every iOS.\n   */\n  async getAvailablePictureSizesAsync(): Promise<string[]> {\n    return (await this._cameraRef.current?.getAvailablePictureSizes()) ?? [];\n  }\n\n  /**\n   * Resumes the camera preview.\n   */\n  async resumePreview(): Promise<void> {\n    return this._cameraRef.current?.resumePreview();\n  }\n\n  /**\n   * Pauses the camera preview. It is not recommended to use `takePictureAsync` when preview is paused.\n   */\n  async pausePreview(): Promise<void> {\n    return this._cameraRef.current?.pausePreview();\n  }\n\n  // Values under keys from this object will be transformed to native options\n  static ConversionTables = ConversionTables;\n\n  static defaultProps: CameraViewProps = {\n    zoom: 0,\n    facing: 'back',\n    enableTorch: false,\n    mode: 'picture',\n    flash: 'off',\n  };\n\n  _cameraHandle?: number | null;\n  _cameraRef = createRef<CameraViewRef>();\n  _lastEvents: { [eventName: string]: string } = {};\n  _lastEventsTimes: { [eventName: string]: Date } = {};\n\n  // @needsAudit\n  /**\n   * Takes a picture and saves it to app's cache directory. Photos are rotated to match device's orientation\n   * (if `options.skipProcessing` flag is not enabled) and scaled to match the preview.\n   * > **Note**: Make sure to wait for the [`onCameraReady`](#oncameraready) callback before calling this method.\n   * @param options An object in form of `CameraPictureOptions` type.\n   * @return Returns a Promise that resolves to `CameraCapturedPicture` object, where `uri` is a URI to the local image file on Android,\n   * iOS, and a base64 string on web (usable as the source for an `Image` element). The `width` and `height` properties specify\n   * the dimensions of the image.\n   *\n   * `base64` is included if the `base64` option was truthy, and is a string containing the JPEG data\n   * of the image in Base64. Prepend it with `'data:image/jpg;base64,'` to get a data URI, which you can use as the source\n   * for an `Image` element for example.\n   *\n   * `exif` is included if the `exif` option was truthy, and is an object containing EXIF\n   * data for the image. The names of its properties are EXIF tags and their values are the values for those tags.\n   *\n   * > On native platforms, the local image URI is temporary. Use [`FileSystem.copyAsync`](filesystem/#filesystemcopyasyncoptions)\n   * > to make a permanent copy of the image.\n   *\n   * > **Note:** Avoid calling this method while the preview is paused. On Android, this will throw an error. On iOS, this will take a picture of the last frame that is currently on screen.\n   */\n  async takePictureAsync(options?: CameraPictureOptions) {\n    const pictureOptions = ensurePictureOptions(options);\n\n    return this._cameraRef.current?.takePicture(pictureOptions);\n  }\n\n  /**\n   * Presents a modal view controller that uses the [`DataScannerViewController`](https://developer.apple.com/documentation/visionkit/scanning_data_with_the_camera) available on iOS 16+.\n   * @platform ios\n   */\n  static async launchScanner(options?: ScanningOptions): Promise<void> {\n    if (!options) {\n      options = { barcodeTypes: [] };\n    }\n    if (Platform.OS === 'ios' && CameraView.isModernBarcodeScannerAvailable) {\n      await CameraManager.launchScanner(options);\n    }\n  }\n\n  /**\n   * Dismiss the scanner presented by `launchScanner`.\n   * @platform ios\n   */\n  static async dismissScanner(): Promise<void> {\n    if (Platform.OS === 'ios' && CameraView.isModernBarcodeScannerAvailable) {\n      await CameraManager.dismissScanner();\n    }\n  }\n\n  /**\n   * Invokes the `listener` function when a bar code has been successfully scanned. The callback is provided with\n   * an object of the `ScanningResult` shape, where the `type` refers to the bar code type that was scanned and the `data` is the information encoded in the bar code\n   * (in this case of QR codes, this is often a URL). See [`BarcodeType`](#barcodetype) for supported values.\n   * @param listener Invoked with the [ScanningResult](#scanningresult) when a bar code has been successfully scanned.\n   *\n   * @platform ios\n   */\n  static onModernBarcodeScanned(listener: (event: ScanningResult) => void): EventSubscription {\n    return CameraManager.addListener('onModernBarcodeScanned', listener);\n  }\n\n  /**\n   * Starts recording a video that will be saved to cache directory. Videos are rotated to match device's orientation.\n   * Flipping camera during a recording results in stopping it.\n   * @param options A map of `CameraRecordingOptions` type.\n   * @return Returns a Promise that resolves to an object containing video file `uri` property and a `codec` property on iOS.\n   * The Promise is returned if `stopRecording` was invoked, one of `maxDuration` and `maxFileSize` is reached or camera preview is stopped.\n   * @platform android\n   * @platform ios\n   */\n  async recordAsync(options?: CameraRecordingOptions) {\n    const recordingOptions = ensureRecordingOptions(options);\n    return this._cameraRef.current?.record(recordingOptions);\n  }\n\n  /**\n   * Stops recording if any is in progress.\n   */\n  stopRecording() {\n    this._cameraRef.current?.stopRecording();\n  }\n\n  _onCameraReady = () => {\n    if (this.props.onCameraReady) {\n      this.props.onCameraReady();\n    }\n  };\n\n  _onMountError = ({ nativeEvent }: { nativeEvent: { message: string } }) => {\n    if (this.props.onMountError) {\n      this.props.onMountError(nativeEvent);\n    }\n  };\n\n  _onResponsiveOrientationChanged = ({\n    nativeEvent,\n  }: {\n    nativeEvent: { orientation: CameraOrientation };\n  }) => {\n    if (this.props.onResponsiveOrientationChanged) {\n      this.props.onResponsiveOrientationChanged(nativeEvent);\n    }\n  };\n\n  _onObjectDetected =\n    (callback?: Function) =>\n    ({ nativeEvent }: { nativeEvent: any }) => {\n      const { type } = nativeEvent;\n      if (\n        this._lastEvents[type] &&\n        this._lastEventsTimes[type] &&\n        JSON.stringify(nativeEvent) === this._lastEvents[type] &&\n        new Date().getTime() - this._lastEventsTimes[type].getTime() < EventThrottleMs\n      ) {\n        return;\n      }\n\n      if (callback) {\n        callback(nativeEvent);\n        this._lastEventsTimes[type] = new Date();\n        this._lastEvents[type] = JSON.stringify(nativeEvent);\n      }\n    };\n\n  _setReference = (ref: Ref<CameraViewRef>) => {\n    if (ref) {\n      // TODO(Bacon): Unify these - perhaps with hooks?\n      if (Platform.OS === 'web') {\n        this._cameraHandle = ref as any;\n      }\n    }\n  };\n\n  render() {\n    const nativeProps = ensureNativeProps(this.props);\n    const onBarcodeScanned = this.props.onBarcodeScanned\n      ? this._onObjectDetected(this.props.onBarcodeScanned)\n      : undefined;\n\n    return (\n      <ExpoCamera\n        {...nativeProps}\n        ref={this._cameraRef}\n        onCameraReady={this._onCameraReady}\n        onMountError={this._onMountError}\n        onBarcodeScanned={onBarcodeScanned}\n        onPictureSaved={_onPictureSaved}\n        onResponsiveOrientationChanged={this._onResponsiveOrientationChanged}\n      />\n    );\n  }\n}\n"],"mappings":"89CAAA,OAASA,QAAQ,CAAEC,mBAAmB,KAAgC,mBAAmB,CACzF,OAAmBC,SAAS,CAAEC,SAAS,KAAQ,OAAO,CAatD,MAAO,CAAAC,UAAU,oBACjB,MAAO,CAAAC,aAAa,2BACpB,OAASC,gBAAgB,CAAEC,iBAAiB,qBAAwB,OAAAC,GAAA,IAAAC,IAAA,yBAEpE,GAAM,CAAAC,eAAe,CAAG,GAAG,CAE3B,GAAM,CAAAC,wBAAwB,CAAG,EAAE,CAEnC,GAAI,CAAAC,kBAAkB,CAAG,CAAC,CAE1B,QAAS,CAAAC,oBAAoBA,CAACC,OAA8B,EAC1D,GAAI,CAACA,OAAO,EAAI,MAAO,CAAAA,OAAO,GAAK,QAAQ,CAAE,CAC3C,MAAO,EAAE,C,CAGX,GAAIA,OAAO,CAACC,OAAO,GAAKC,SAAS,CAAE,CACjCF,OAAO,CAACC,OAAO,CAAG,CAAC,C,CAGrB,GAAID,OAAO,CAACG,MAAM,CAAE,CAClBC,OAAO,CAACC,IAAI,CACV,8FAA8F,CAC/F,C,CAGH,GAAIL,OAAO,CAACM,cAAc,CAAE,CAC1B,GAAM,CAAAC,EAAE,CAAGT,kBAAkB,EAAE,CAC/BD,wBAAwB,CAACU,EAAE,CAAC,CAAGP,OAAO,CAACM,cAAc,CACrDN,OAAO,CAACO,EAAE,CAAGA,EAAE,CACfP,OAAO,CAACQ,QAAQ,CAAG,IAAI,C,CAGzB,MAAO,CAAAR,OAAO,CAChB,CAEA,QAAS,CAAAS,sBAAsBA,CAAA,CAAqC,IAApC,CAAAT,OAAA,CAAAU,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAR,SAAA,CAAAQ,SAAA,IAAkC,EAAE,CAClE,GAAI,CAACV,OAAO,EAAI,MAAO,CAAAA,OAAO,GAAK,QAAQ,CAAE,CAC3C,MAAO,EAAE,C,CAGX,GAAIA,OAAO,CAACG,MAAM,CAAE,CAClBC,OAAO,CAACC,IAAI,CACV,8FAA8F,CAC/F,C,CAGH,MAAO,CAAAL,OAAO,CAChB,CAEA,QAAS,CAAAY,eAAeA,CAAAC,IAAA,CAIvB,IAHC,CAAAC,WAAW,CAAAD,IAAA,CAAXC,WAAW,CAIX,GAAQ,CAAAP,EAAE,CAAWO,WAAW,CAAxBP,EAAE,CAAEQ,IAAI,CAAKD,WAAW,CAApBC,IAAI,CAChB,GAAM,CAAAC,QAAQ,CAAGnB,wBAAwB,CAACU,EAAE,CAAC,CAC7C,GAAIS,QAAQ,CAAE,CACZA,QAAQ,CAACD,IAAI,CAAC,CACd,MAAO,CAAAlB,wBAAwB,CAACU,EAAE,CAAC,C,CAEvC,CAAC,GAEoB,CAAAU,UAAW,UAAAC,UAAA,WAAAD,WAAA,MAAAE,KAAA,CAAAC,eAAA,MAAAH,UAAA,UAAAI,IAAA,CAAAX,SAAA,CAAAC,MAAA,CAAAW,IAAA,KAAAC,KAAA,CAAAF,IAAA,EAAAG,IAAA,GAAAA,IAAA,CAAAH,IAAA,CAAAG,IAAA,IAAAF,IAAA,CAAAE,IAAA,EAAAd,SAAA,CAAAc,IAAA,GAAAL,KAAA,CAAAM,UAAA,MAAAR,UAAA,IAAAS,MAAA,CAAAJ,IAAA,GAAAH,KAAA,CAoE9BQ,UAAU,CAAGtC,SAAS,EAAiB,CAAA8B,KAAA,CACvCS,WAAW,CAAoC,EAAE,CAAAT,KAAA,CACjDU,gBAAgB,CAAkC,EAAE,CAAAV,KAAA,CAsFpDW,cAAc,CAAG,UAAK,CACpB,GAAIX,KAAA,CAAKY,KAAK,CAACC,aAAa,CAAE,CAC5Bb,KAAA,CAAKY,KAAK,CAACC,aAAa,EAAE,C,CAE9B,CAAC,CAAAb,KAAA,CAEDc,aAAa,CAAG,SAAAC,KAAA,CAA0D,IAAvD,CAAApB,WAAW,CAAAoB,KAAA,CAAXpB,WAAW,CAC5B,GAAIK,KAAA,CAAKY,KAAK,CAACI,YAAY,CAAE,CAC3BhB,KAAA,CAAKY,KAAK,CAACI,YAAY,CAACrB,WAAW,CAAC,C,CAExC,CAAC,CAAAK,KAAA,CAEDiB,+BAA+B,CAAG,SAAAC,KAAA,CAI7B,IAHH,CAAAvB,WAAW,CAAAuB,KAAA,CAAXvB,WAAW,CAIX,GAAIK,KAAA,CAAKY,KAAK,CAACO,8BAA8B,CAAE,CAC7CnB,KAAA,CAAKY,KAAK,CAACO,8BAA8B,CAACxB,WAAW,CAAC,C,CAE1D,CAAC,CAAAK,KAAA,CAEDoB,iBAAiB,CACf,SAACvB,QAAmB,QACpB,UAAAwB,KAAA,CAA0C,IAAvC,CAAA1B,WAAW,CAAA0B,KAAA,CAAX1B,WAAW,CACZ,GAAQ,CAAA2B,IAAI,CAAK3B,WAAW,CAApB2B,IAAI,CACZ,GACEtB,KAAA,CAAKS,WAAW,CAACa,IAAI,CAAC,EACtBtB,KAAA,CAAKU,gBAAgB,CAACY,IAAI,CAAC,EAC3BC,IAAI,CAACC,SAAS,CAAC7B,WAAW,CAAC,GAAKK,KAAA,CAAKS,WAAW,CAACa,IAAI,CAAC,EACtD,GAAI,CAAAG,IAAI,EAAE,CAACC,OAAO,EAAE,CAAG1B,KAAA,CAAKU,gBAAgB,CAACY,IAAI,CAAC,CAACI,OAAO,EAAE,CAAGjD,eAAe,CAC9E,CACA,O,CAGF,GAAIoB,QAAQ,CAAE,CACZA,QAAQ,CAACF,WAAW,CAAC,CACrBK,KAAA,CAAKU,gBAAgB,CAACY,IAAI,CAAC,CAAG,GAAI,CAAAG,IAAI,EAAE,CACxCzB,KAAA,CAAKS,WAAW,CAACa,IAAI,CAAC,CAAGC,IAAI,CAACC,SAAS,CAAC7B,WAAW,CAAC,C,CAExD,CAAC,GAAAK,KAAA,CAEH2B,aAAa,CAAG,SAACC,GAAuB,CAAI,CAC1C,GAAIA,GAAG,CAAE,CAEP,GAAI7D,QAAQ,CAAC8D,EAAE,GAAK,KAAK,CAAE,CACzB7B,KAAA,CAAK8B,aAAa,CAAGF,GAAU,C,EAGrC,CAAC,QAAA5B,KAAA,EAAA+B,SAAA,CAAAjC,UAAA,CAAAC,UAAA,SAAAiC,YAAA,CAAAlC,UAAA,GAAAmC,GAAA,iCAAAC,KAAA,iBAAAC,8BAAA,CAAAC,iBAAA,CAvKD,WAAmC,KAAAC,qBAAA,CAAAC,qBAAA,CACjC,OAAAD,qBAAA,OAAAC,qBAAA,CAAc,IAAI,CAAC9B,UAAU,CAAC+B,OAAO,eAAvBD,qBAAA,CAAyBE,wBAAwB,EAAE,QAAAH,qBAAA,CAAK,EAAE,CAC1E,CAAC,UAFK,CAAAI,6BAA6BA,CAAA,SAAAN,8BAAA,CAAAO,KAAA,MAAAnD,SAAA,SAA7B,CAAAkD,6BAA6B,QAAAR,GAAA,iBAAAC,KAAA,iBAAAS,cAAA,CAAAP,iBAAA,CAOnC,WAAmB,KAAAQ,sBAAA,CACjB,OAAAA,sBAAA,CAAO,IAAI,CAACpC,UAAU,CAAC+B,OAAO,eAAvBK,sBAAA,CAAyBC,aAAa,EAAE,CACjD,CAAC,UAFK,CAAAA,aAAaA,CAAA,SAAAF,cAAA,CAAAD,KAAA,MAAAnD,SAAA,SAAb,CAAAsD,aAAa,QAAAZ,GAAA,gBAAAC,KAAA,iBAAAY,aAAA,CAAAV,iBAAA,CAOnB,WAAkB,KAAAW,sBAAA,CAChB,OAAAA,sBAAA,CAAO,IAAI,CAACvC,UAAU,CAAC+B,OAAO,eAAvBQ,sBAAA,CAAyBC,YAAY,EAAE,CAChD,CAAC,UAFK,CAAAA,YAAYA,CAAA,SAAAF,aAAA,CAAAJ,KAAA,MAAAnD,SAAA,SAAZ,CAAAyD,YAAY,QAAAf,GAAA,oBAAAC,KAAA,gBAAAe,iBAAA,CAAAb,iBAAA,CA0ClB,UAAuBvD,OAA8B,MAAAqE,sBAAA,CACnD,GAAM,CAAAC,cAAc,CAAGvE,oBAAoB,CAACC,OAAO,CAAC,CAEpD,OAAAqE,sBAAA,CAAO,IAAI,CAAC1C,UAAU,CAAC+B,OAAO,eAAvBW,sBAAA,CAAyBE,WAAW,CAACD,cAAc,CAAC,CAC7D,CAAC,UAJK,CAAAE,gBAAgBA,CAAAC,EAAA,SAAAL,iBAAA,CAAAP,KAAA,MAAAnD,SAAA,SAAhB,CAAA8D,gBAAgB,OAAApB,GAAA,eAAAC,KAAA,iBAAAqB,YAAA,CAAAnB,iBAAA,CAkDtB,UAAkBvD,OAAgC,MAAA2E,sBAAA,CAChD,GAAM,CAAAC,gBAAgB,CAAGnE,sBAAsB,CAACT,OAAO,CAAC,CACxD,OAAA2E,sBAAA,CAAO,IAAI,CAAChD,UAAU,CAAC+B,OAAO,eAAvBiB,sBAAA,CAAyBE,MAAM,CAACD,gBAAgB,CAAC,CAC1D,CAAC,UAHK,CAAAE,WAAWA,CAAAC,GAAA,SAAAL,YAAA,CAAAb,KAAA,MAAAnD,SAAA,SAAX,CAAAoE,WAAW,QAAA1B,GAAA,iBAAAC,KAAA,CAQjB,SAAA2B,aAAaA,CAAA,MAAAC,sBAAA,CACX,CAAAA,sBAAA,KAAI,CAACtD,UAAU,CAAC+B,OAAO,eAAvBuB,sBAAA,CAAyBD,aAAa,EAAE,CAC1C,CAAC,GAAA5B,GAAA,UAAAC,KAAA,CAqDD,SAAA6B,MAAMA,CAAA,EACJ,GAAM,CAAAC,WAAW,CAAG1F,iBAAiB,CAAC,IAAI,CAACsC,KAAK,CAAC,CACjD,GAAM,CAAAqD,gBAAgB,CAAG,IAAI,CAACrD,KAAK,CAACqD,gBAAgB,CAChD,IAAI,CAAC7C,iBAAiB,CAAC,IAAI,CAACR,KAAK,CAACqD,gBAAgB,CAAC,CACnDlF,SAAS,CAEb,MACE,CAAAP,IAAA,CAACL,UAAU,CAAA+F,aAAA,CAAAA,aAAA,IACLF,WAAW,MACfpC,GAAG,CAAE,IAAI,CAACpB,UAAW,CACrBK,aAAa,CAAE,IAAI,CAACF,cAAe,CACnCK,YAAY,CAAE,IAAI,CAACF,aAAc,CACjCmD,gBAAgB,CAAEA,gBAAiB,CACnC9E,cAAc,CAAEM,eAAgB,CAChC0B,8BAA8B,CAAE,IAAI,CAACF,+BAAgC,GACrE,CAEN,CAAC,KAAAgB,GAAA,oBAAAC,KAAA,iBAAAiC,iBAAA,CAAA/B,iBAAA,CArND,WAA6B,CAC3B,GAAI,CAAChE,aAAa,CAACgG,gBAAgB,CAAE,CACnC,KAAM,IAAI,CAAApG,mBAAmB,CAAC,aAAa,CAAE,kBAAkB,CAAC,C,CAGlE,YAAa,CAAAI,aAAa,CAACgG,gBAAgB,EAAE,CAC/C,CAAC,UANY,CAAAA,gBAAgBA,CAAA,SAAAD,iBAAA,CAAAzB,KAAA,MAAAnD,SAAA,SAAhB,CAAA6E,gBAAgB,QAAAnC,GAAA,gCAAAC,KAAA,gBAAAmC,6BAAA,CAAAjC,iBAAA,CAc7B,WAAyC,CACvC,GAAI,CAAChE,aAAa,CAACkG,4BAA4B,CAAE,CAC/C,KAAM,IAAI,CAAAtG,mBAAmB,CAAC,QAAQ,CAAE,8BAA8B,CAAC,C,CAGzE,YAAa,CAAAI,aAAa,CAACkG,4BAA4B,EAAE,CAC3D,CAAC,UANY,CAAAA,4BAA4BA,CAAA,SAAAD,6BAAA,CAAA3B,KAAA,MAAAnD,SAAA,SAA5B,CAAA+E,4BAA4B,OAAArC,GAAA,iBAAAC,KAAA,iBAAAqC,cAAA,CAAAnC,iBAAA,CA+EzC,UAA2BvD,OAAyB,EAClD,GAAI,CAACA,OAAO,CAAE,CACZA,OAAO,CAAG,CAAE2F,YAAY,CAAE,EAAE,CAAE,C,CAEhC,GAAIzG,QAAQ,CAAC8D,EAAE,GAAK,KAAK,EAAI/B,UAAU,CAAC2E,+BAA+B,CAAE,CACvE,KAAM,CAAArG,aAAa,CAACsG,aAAa,CAAC7F,OAAO,CAAC,C,CAE9C,CAAC,UAPY,CAAA6F,aAAaA,CAAAC,GAAA,SAAAJ,cAAA,CAAA7B,KAAA,MAAAnD,SAAA,SAAb,CAAAmF,aAAa,QAAAzC,GAAA,kBAAAC,KAAA,iBAAA0C,eAAA,CAAAxC,iBAAA,CAa1B,WAA2B,CACzB,GAAIrE,QAAQ,CAAC8D,EAAE,GAAK,KAAK,EAAI/B,UAAU,CAAC2E,+BAA+B,CAAE,CACvE,KAAM,CAAArG,aAAa,CAACyG,cAAc,EAAE,C,CAExC,CAAC,UAJY,CAAAA,cAAcA,CAAA,SAAAD,eAAA,CAAAlC,KAAA,MAAAnD,SAAA,SAAd,CAAAsF,cAAc,QAAA5C,GAAA,0BAAAC,KAAA,CAc3B,QAAO,CAAA4C,sBAAsBA,CAACC,QAAyC,EACrE,MAAO,CAAA3G,aAAa,CAAC4G,WAAW,CAAC,wBAAwB,CAAED,QAAQ,CAAC,CACtE,CAAC,MArIqC9G,SAA0B,EAA7C6B,UAAW,CAIvB2E,+BAA+B,CAAYrG,aAAa,CAACqG,+BAA+B,CAJ5E3E,UAAW,CAyDvBzB,gBAAgB,CAAGA,gBAAgB,CAzDvByB,UAAW,CA2DvBmF,YAAY,CAAoB,CACrCC,IAAI,CAAE,CAAC,CACPC,MAAM,CAAE,MAAM,CACdC,WAAW,CAAE,KAAK,CAClBC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,K,CACR,QAjEkBxF,UAAW,IAAAyF,OAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}